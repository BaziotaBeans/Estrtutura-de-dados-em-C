BIBLIOTECA=Bibliotecas/
TAREFA_BIBLIOTECA=$(BIBLIOTECA)Tarefa/
AGENDA_BIBLIOTECA=$(BIBLIOTECA)Agenda/
TAREFA_IMPLEMENTACAO=$(BIBLIOTECA)Tarefa/tarefa.c
TAREFA_OBJECTO=$(BIBLIOTECA)Tarefa/tarefa.o
AGENDA_IMPLEMENTACAO=$(BIBLIOTECA)Agenda/agenda.c
AGENDA_OBJECTO=$(BIBLIOTECA)Agenda/agenda.o
CLIENTE=main.c
TAREFA=tarefa.o
AGENDA=agenda.o

exec: $(TAREFA_OBJECTO) $(AGENDA_OBJECTO)
	gcc $(CLIENTE) $(TAREFA_OBJECTO) $(AGENDA_OBJECTO) -I $(BIBLIOTECA) -o exec

$(TAREFA_OBJECTO): $(TAREFA_IMPLEMENTACAO)
	gcc -c $(TAREFA_IMPLEMENTACAO)
	mv $(TAREFA) $(TAREFA_BIBLIOTECA)

$(AGENDA_OBJECTO): $(AGENDA_IMPLEMENTACAO)
	gcc -c $(AGENDA_IMPLEMENTACAO)
	mv $(AGENDA) $(AGENDA_BIBLIOTECA)
